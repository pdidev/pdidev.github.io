<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="generator" content="Doxygen 1.8.13"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>PDI: Installation</title>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<script type="text/javascript" src="navtreedata.js"></script>
	<script type="text/javascript" src="navtree.js"></script>
	<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div>
<header id="titlearea">
	<div id="projectlogo"><a href="index.html"><img alt="Logo" src="logo.png"/></a></div>
	<h1 id="projectname">PDI&nbsp;<span id="projectnumber">0.7.0-pre_date-2020-02-27-08_52</span></h1>
	<h2 id="projectbrief">Data exchange made easy</h2>
</header>
<nav id="tabs"><ul>
	<li><a href="index.html">About</a>
	<li><a href="Hands_on.html">Hands-on</a>
	<li><a href="Plugins.html">Plugins</a>
	<li><a href="modules.html">C annotation API reference</a>
	<li><a href="Specification_tree_ref.html">Specification tree reference</a>
	<li><a href="namespacePDI.html">API for plugin developers reference</a>
	<li id="gitlab-ribbon"><a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi">Fork me on Gitlab</a></li>
</ul></nav>
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Installation.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespacePDI.html">PDI</a> is distributed along some plugins and most of its dependencies in what is known as the <b><a class="el" href="namespacePDI.html">PDI</a> distribution</b>. It can be easily compiled from its source code.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Default PDI installation</h1>
<p>Installing the <em>default <a class="el" href="namespacePDI.html">PDI</a> distribution</em> is fairly easy. Most dependencies are embedded in the distribution and the only required external dependencies are:</p><ul>
<li>a POSIX compatible OS with a python interpreter,</li>
<li>CMake-3.5</li>
<li>compilers for C (99), C++ (14) and Fortran (2003),</li>
<li>MPI</li>
</ul>
<p>For example, release 0.6.1 can be installed by following these instructions (but look for the latest release at <a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags">https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags</a>)</p>
<div class="fragment"><div class="line"># download</div><div class="line">wget https://gitlab.maisondelasimulation.fr/pdidev/pdi/-/archive/0.6.1/pdi-0.6.1.tar.bz2</div><div class="line">tar -xjf pdi-0.6.1.tar.bz2</div><div class="line">cd pdi-0.6.1</div><div class="line"># configuration</div><div class="line">cmake -DCMAKE_INSTALL_PREFIX=/usr/ .</div><div class="line"># compilation and installation</div><div class="line">make install</div></div><!-- fragment --><p>If the default installation fails or if you need an installation better tailored to your needs, keep reading.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Downloading the distribution</h1>
<p>As of now, <a class="el" href="namespacePDI.html">PDI</a> must be compiled from source.</p>
<p>To download the sources, have a look at the list of all releases from: <a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags">https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags</a></p>
<p>For example, release 0.6.1 can be downloaded and extracted by following these instructions: </p><div class="fragment"><div class="line">wget https://gitlab.maisondelasimulation.fr/pdidev/pdi/-/archive/0.6.1/pdi-0.6.1.tar.bz2</div><div class="line">tar -xjf pdi-master.tar.bz2</div><div class="line">cd pdi-0.6.1</div></div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
Configuration and compilation</h1>
<p>The <a class="el" href="namespacePDI.html">PDI</a> distribution is compiled using Cmake. In addition to <a class="el" href="namespacePDI.html">PDI</a> itself, the distribution includes <a class="el" href="namespacePDI.html">PDI</a> plugins.</p>
<p><a class="el" href="namespacePDI.html">PDI</a> depends on:</p><ul>
<li><a href="https://cmake.org">cmake</a>, version &gt;= 3.5</li>
<li>a C-99 and C++-14 compiler (<a href="https://gcc.gnu.org/">gcc</a> 5.4 is tested)</li>
<li>a POSIX compatible OS (<a href="https://www.kernel.org/">linux</a> with <a href="https://www.gnu.org/software/libc/">GNU libc</a> 2.27 is tested)</li>
<li><a href="https://gitlab.maisondelasimulation.fr/jbigot/libparaconf">paraconf</a> (distributed with <a class="el" href="namespacePDI.html">PDI</a>, see below)</li>
<li><a href="https://pyyaml.org/wiki/LibYAML">libyaml</a> (distributed with <a class="el" href="namespacePDI.html">PDI</a>, see below)</li>
<li><a href="https://github.com/gabime/spdlog">spdlog</a> (distributed with <a class="el" href="namespacePDI.html">PDI</a>, see below)</li>
</ul>
<p>Once inside <code>pdi</code> directory, the compilation can be done using the following commands: </p><div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake ..</div><div class="line">make -j</div><div class="line">make install</div></div><!-- fragment --><p>The <code>cmake</code> command is used for configuration. It accepts options to enable or disable each element of the distribution and to configure them with the <code>-D</code> syntax.</p>
<p>For example, the installation directory can be changed with the following command: </p><div class="fragment"><div class="line">cmake -DCMAKE_INSTALL_PREFIX=/usr/ ..</div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>the <code>cmake</code> command must be followed by the path to the <code>pdi</code> directory, here <code>..</code> because we have just created and moved to the <code>build</code> subdirectory.</dd></dl>
<p>The following boolean build options are available, each option should be set to either <code>ON</code> or <code>OFF</code>: </p><dl>
<dt><code>BUILD_UNSTABLE</code> </dt>
<dd>Build all features by default including those not stable yet </dd>
<dt><code>BUILD_CFG_VALIDATOR</code> </dt>
<dd>Build config validation script </dd>
<dt><code>BUILD_DECL_HDF5_PLUGIN</code> </dt>
<dd>Build decl'HDF5 plug-in </dd>
<dt><code>BUILD_DECL_SION_PLUGIN</code> </dt>
<dd>Build decl'SION plug-in </dd>
<dt><code>BUILD_DOCUMENTATION</code> </dt>
<dd>Build documentation </dd>
<dt><code>BUILD_MPI_PLUGIN</code> </dt>
<dd>Build MPI plug-in </dd>
<dt><code>BUILD_FLOWVR_PLUGIN</code> </dt>
<dd>Build FlowVR plug-in </dd>
<dt><code>BUILD_TESTING</code> </dt>
<dd>Build tests </dd>
<dt><code>BUILD_FORTRAN</code> </dt>
<dd>Enable Fortran support </dd>
<dt><code>BUILD_PYTHON</code> </dt>
<dd>Enable Python support </dd>
</dl>
<p>The following dependency inclusion options are available, each one can be set to either <code>SYSTEM</code>, <code>EMBEDDED</code> or a path: </p><dl>
<dt><code>USE_DEFAULT</code> </dt>
<dd>Default version of libraries to use </dd>
<dt><code>USE_BPP</code> </dt>
<dd>version of BPP to use </dd>
<dt><code>USE_FLOWVR</code> </dt>
<dd>version of FlowVR to use </dd>
<dt><code>USE_GTEST</code> </dt>
<dd>version of Gtest to use </dd>
<dt><code>USE_PARACONF</code> </dt>
<dd>version of paraconf to use </dd>
<dt><code>USE_PYBIND11</code> </dt>
<dd>version of pybind11 to use </dd>
<dt><code>USE_PYYAML</code> </dt>
<dd>version of PyYAML to use </dd>
<dt><code>USE_SPDLOG</code> </dt>
<dd>version of spdlog to use </dd>
<dt><code>USE_YAML</code> </dt>
<dd>version of yaml to use </dd>
</dl>
<h2><a class="anchor" id="autotoc_md6"></a>
Fortran support</h2>
<p>Fortran support is enabled by default, pass the <code>-DBUILD_FORTRAN=OFF</code> option to cmake to disable it.</p>
<p><a class="el" href="namespacePDI.html">PDI</a> Fortran support depends on:</p><ul>
<li>a Fortran-2003 compiler (<a href="https://gcc.gnu.org/fortran/">GNU Fortran</a> 5.4 is tested)</li>
<li>a <a href="https://www.python.org/">python</a> and <a href="https://www.gnu.org/software/bash/">bash</a> interpreter at compilation</li>
<li><a href="https://gitlab.maisondelasimulation.fr/jbigot/bpp">BPP</a> (distributed with <a class="el" href="namespacePDI.html">PDI</a>, pass the <code>-DUSE_DEFAULT=EMBEDDED</code> or <code>-DUSE_BPP=EMBEDDED</code> option to cmake to use the embedded version)</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
PDI configuration validation tool</h2>
<p><a class="el" href="namespacePDI.html">PDI</a> configuration validation tool (pdicfg_validate) is enabled by default, pass the <code>-DBUILD_CFG_VALIDATOR=OFF</code> option to cmake to disable it.</p>
<p><a class="el" href="namespacePDI.html">PDI</a> configuration validation tool depends on:</p><ul>
<li>a <a href="https://www.python.org/">python</a>3 interpreter</li>
<li><a href="https://pyyaml.org/">python YAML</a> support (distributed with <a class="el" href="namespacePDI.html">PDI</a>, pass the <code>-DUSE_DEFAULT=EMBEDDED</code> or <code>-DUSE_PYYAML=EMBEDDED</code> option to cmake to use the embedded version)</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Tests</h2>
<p>Tests are enabled by default, pass the <code>-DBUILD_TESTING=OFF</code> option to cmake to disable them.</p>
<p>Tests depend on:</p><ul>
<li><a href="https://cmake.org">cmake</a>, version &gt;= 3.10</li>
<li><a href="https://github.com/google/googletest">Google Test framework</a> (the embedded version is used by default, pass the <code>-DUSE_GTEST=SYSTEM</code> option to cmake to use the system version)</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Python support</h2>
<p>Python support is <b>not marked stable yet</b>. Pass the <code>-DBUILD_UNSTABLE=ON</code> or <code>-DBUILD_PYTHON=ON</code> option to cmake to enable it.</p>
<p><a class="el" href="namespacePDI.html">PDI</a> Fortran support depends on:</p><ul>
<li>a <a href="https://www.python.org/">python</a>3 installation with development headers</li>
<li><a href="https://pybind11.readthedocs.io/en/stable/">pybind11</a> (distributed with <a class="el" href="namespacePDI.html">PDI</a>, pass the <code>-DUSE_DEFAULT=EMBEDDED</code> or <code>-DUSE_PYBIND11=EMBEDDED</code> option to cmake to use the embedded version)</li>
</ul>
<h2><a class="anchor" id="autotoc_md10"></a>
Decl'HDF5 plugin</h2>
<p>The decl'HDF5 plugin is enabled by default, pass the <code>-DBUILD_DECL_HDF5_PLUGIN=OFF</code> option to cmake to disable it.</p>
<p>The decl'HDF5 plugin depends on:</p><ul>
<li>HDF5 (either sequential or parallel compatible with the chosen MPI)</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
Decl'SION plugin</h2>
<p>The decl'SION plugin is not marked stable yet. Pass the <code>-DBUILD_UNSTABLE=ON</code> or <code>-DBUILD_DECL_SION_PLUGIN=ON</code> option to cmake to enable it.</p>
<p>The decl'SION plugin depends on:</p><ul>
<li>SIONlib compatible with the chosen MPI</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
FTI plugin</h2>
<p>FTI support is currently disabled waiting for the new-style FTI plugin. Pass the <code>-DBUILD_FTI_PLUGIN=ON</code> option to cmake to enable it anyway (at your own risk).</p>
<p>The FTI plugin depends on:</p><ul>
<li>FTI (distributed with <a class="el" href="namespacePDI.html">PDI</a>, pass the <code>-DUSE_DEFAULT=EMBEDDED</code> or <code>-DUSE_FTI=EMBEDDED</code> option to cmake to use the embedded version)</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
MPI plugin</h2>
<p>The MPI plugin is enabled by default, pass the <code>-DBUILD_MPI_PLUGIN=OFF</code> option to cmake to disable it.</p>
<p>The MPI plugin depends on:</p><ul>
<li>a MPI-2 library (openmpi-1.10.2 is tested) </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
