<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="generator" content="Doxygen 1.8.13"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>PDI: Installation of PDI source distribution</title>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<script type="text/javascript" src="navtreedata.js"></script>
	<script type="text/javascript" src="navtree.js"></script>
	<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div>
<header id="titlearea">
	<div id="projectlogo"><a href="index.html"><img alt="Logo" src="logo.png"/></a></div>
	<h1 id="projectname">PDI&nbsp;<span id="projectnumber">0.7.0-pre_date-2020-10-02-09_12</span></h1>
	<h2 id="projectbrief">Data exchange made easy</h2>
</header>
<nav id="tabs"><ul>
	<li><a href="index.html">About</a>
	<li><a href="Installation.html">Installation</a>
	<li><a href="Concepts.html">Core concepts</a>
	<li><a href="First_steps.html">First steps</a>
	<li><a href="Hands_on.html">Tutorial</a>
	<li><a href="PDI_example.html">PDI example</a>
	<li><a href="modules.html">C API reference</a>
	<li><a href="Specification_tree_ref.html">Specification tree reference</a>
	<li><a href="Plugins.html">Plugins</a>
	<li id="gitlab-ribbon"><a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi">Contribute on Gitlab</a></li>
</ul></nav>
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Installation.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Installation of PDI source distribution </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section warning"><dt>Warning</dt><dd>The recommended approach to install PDI is to use the stable pre-compiled binary packages for Debian, Fedora and Ubuntu available at <a href="https://github.com/pdidev/pkgs/tree/repo">https://github.com/pdidev/pkgs/tree/repo</a> .</dd>
<dd>
On other distributions, in case you do not have root acces, or if you want a more recent version, the <b>PDI source distribution</b> can be easily downloaded and compiled.</dd></dl>
<p>The PDI source distribution includes:</p><ul>
<li>the PDI core and its bindings for Fortran and python,</li>
<li>all PDI plugins,</li>
<li>the PDI configuration validator,</li>
<li>examples and tests,</li>
<li>most dependencies of all the above.</li>
</ul>
<h1><a class="anchor" id="downloading_distribution"></a>
Downloading PDI source distribution</h1>
<p>To download the sources, have a look at the list of all releases from: <a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags">https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags</a></p>
<p>For example, release 0.6.1 can be downloaded by following these instructions: </p><div class="fragment"><div class="line">wget https://gitlab.maisondelasimulation.fr/pdidev/pdi/-/archive/0.6.1/pdi-0.6.1.tar.bz2</div><div class="line">tar -xjf pdi-0.6.1.tar.bz2</div></div><!-- fragment --><h1><a class="anchor" id="default_installation"></a>
Default installation</h1>
<dl class="section attention"><dt>Attention</dt><dd>The <em>default PDI source distribution</em> consists in a subset of the PDI source distribution considered stable enough for production use.</dd></dl>
<p>Installing the default PDI source distribution is fairly easy. Most dependencies are embedded in the distribution and the only required external dependencies are:</p><ul>
<li><a href="https://cmake.org">cmake</a>, version &gt;= 3.5,</li>
<li>a C 99, C++ 14 and Fortran 95 compiler (<a href="https://gcc.gnu.org/">gcc</a> 5.4 is tested),</li>
<li>a POSIX compatible OS with a <a href="https://www.gnu.org/software/bash/">bash</a> and <a href="https://www.python.org/">python</a> interpreter (<a href="https://www.kernel.org/">linux</a> with <a href="https://www.gnu.org/software/libc/">GNU libc</a> 2.27 is tested),</li>
<li>a MPI implementation.</li>
</ul>
<p>For example, release 0.6.1 can be installed by following these instructions (but look for the latest release at <a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags">https://gitlab.maisondelasimulation.fr/pdidev/pdi/tags</a>):</p>
<div class="fragment"><div class="line">mkdir pdi-0.6.1/build &amp;&amp; cd pdi-0.6.1/build</div><div class="line">cmake -DCMAKE_INSTALL_PREFIX=/usr/ ..       # configuration</div><div class="line">make install   # compilation and installation</div></div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>The <code>cmake</code> command must be followed by the path to the <code>pdi</code> directory, here <code>..</code> because we have just created and moved to the <code>build</code> subdirectory.</dd>
<dd>
The <code>-DCMAKE_INSTALL_PREFIX=/usr/</code> flag is used to specify where to install the distribution, flags are <a class="el" href="Installation.html#cmake_config">discussed in more detail below</a>.</dd></dl>
<p>If the default installation fails or if you need an installation better tailored to your needs, keep reading.</p>
<h1><a class="anchor" id="cmake_config"></a>
Configuration</h1>
<p>The PDI source distribution is compiled using CMake. The <code>cmake</code> command accepts options to configure the distribution with flags. The syntax is <code>-D&lt;FLAG&gt;=&lt;VALUE&gt;</code> to set <code>FLAG</code> value to <code>VALUE</code>.</p>
<p>For example, the installation directory can be changed with the following command: </p><div class="fragment"><div class="line">cmake -DCMAKE_INSTALL_PREFIX=/home/user/ ..</div></div><!-- fragment --><p>The following general flags are useful to configure the distribution as a whole.</p>
<table class="doxtable">
<tr>
<th align="left">Flag </th><th align="left">Default </th><th align="left">Description  </th></tr>
<tr>
<td align="left"><code>CMAKE_INSTALL_PREFIX</code></td><td align="left"><code>/usr/local</code></td><td align="left">The path where to install the distribution. </td></tr>
<tr>
<td align="left"><code>CMAKE_PREFIX_PATH</code> </td><td align="left"></td><td align="left">A semicolon-separated list of prefix where to look for PDI dependencies in addition to system path. </td></tr>
<tr>
<td align="left"><code>DIST_PROFILE</code> </td><td align="left"><code>User</code> </td><td align="left">Sets the default values of other flags. The possible values are <code>User</code> for the PDI use profile and <code>Devel</code> for the developer profile. </td></tr>
<tr>
<td align="left"><code>USE_DEFAULT</code> </td><td align="left"><code>AUTO</code> </td><td align="left">Whether to compile the embedded versions of the dependencies. The possible values are <code>SYSTEM</code> to use the system versions, <code>EMBEDDED</code> to compile the version provided in the distribution and <code>AUTO</code> to prefer a system version but fall-back on the embedded version if unavailable. </td></tr>
<tr>
<td align="left"><code>BUILD_UNSTABLE</code> </td><td align="left"><code>OFF</code> </td><td align="left">Whether to build the unstable parts of the distribution, either <code>ON</code> or <code>OFF</code>. </td></tr>
<tr>
<td align="left"><code>CMAKE_BUILD_TYPE</code> </td><td align="left"><code>Release</code> </td><td align="left">Optimization level and debug verbosity. The possible values are <code>Release</code> and <code>Debug</code>. </td></tr>
<tr>
<td align="left"><code>PDI_PLUGIN_PATH</code> </td><td align="left">same as <a class="el" href="namespacePDI.html">PDI</a> </td><td align="left">Path where to install all plugins. If not defined, will install relative to <a class="el" href="namespacePDI.html">PDI</a>. </td></tr>
</table>
<p>The following flags define which features of the distribution to enable or not.</p>
<table class="doxtable">
<tr>
<th align="left">Flag </th><th align="left">Default</th><th align="left">Description  </th></tr>
<tr>
<td align="left"><code>BUILD_FORTRAN</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the Fortran interface. </td></tr>
<tr>
<td align="left"><code>BUILD_DECL_HDF5_PLUGIN</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the Decl'HDF5 plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_HDF5_PARALLEL</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the parallel version of the Decl'HDF5 plugin instead of the sequential one. </td></tr>
<tr>
<td align="left"><code>BUILD_MPI_PLUGIN</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the MPI plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_TEST_PLUGIN</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the Test plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_TRACE_PLUGIN</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the Trace plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_USER_CODE_PLUGIN</code> </td><td align="left"><code>ON</code> </td><td align="left">Build the User-code plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_PYTHON</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the Python interface. </td></tr>
<tr>
<td align="left"><code>BUILD_DECL_SION_PLUGIN</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the decl'SION plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_FLOWVR_PLUGIN</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the FlowVR plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_FTI_PLUGIN</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the FTI plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_PYCALL_PLUGIN</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build Pycall plug-in. </td></tr>
<tr>
<td align="left"><code>BUILD_TESTING</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the tests. </td></tr>
<tr>
<td align="left"><code>BUILD_DOCUMENTATION</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the documentation website. </td></tr>
<tr>
<td align="left"><code>BUILD_INDENT</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the code auto-indentation tools. </td></tr>
<tr>
<td align="left"><code>BUILD_CFG_VALIDATOR</code> </td><td align="left"><code>OFF</code> </td><td align="left">Build the <a class="el" href="namespacePDI.html">PDI</a> configuration validation script. </td></tr>
</table>
<p>The following flags define whether to:</p><ul>
<li>use the preinstalled version of a dependency (<code>SYSTEM</code>), it will be looked for in the system directories and those specified by the <code>CMAKE_PREFIX_PATH</code> list,</li>
<li>compile the version of the dependency provided in the distribution (<code>EMBEDDED</code>),</li>
<li>compile another version of the dependency (the path to the source archive),</li>
<li>use the preinstalled version of a dependency if available and fallback on the compilation of the version of the dependency provided in the distribution if no preinstalled version is found.</li>
</ul>
<table class="doxtable">
<tr>
<th align="left">Flag </th><th align="left">Default </th><th align="left">Description  </th></tr>
<tr>
<td align="left"><code>USE_Astyle</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="http://astyle.sourceforge.net/">astyle</a> tool. </td></tr>
<tr>
<td align="left"><code>USE_Bpp</code> </td><td align="left"><code>EMBEDDED</code></td><td align="left">the <a href="https://github.com/jbigot/zpp">bpp/zpp</a> preprocessor. </td></tr>
<tr>
<td align="left"><code>USE_Doxygen</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="http://www.doxygen.nl/">doxygen</a> tool. </td></tr>
<tr>
<td align="left"><code>USE_FlowVR</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://gitlab.inria.fr/flowvr/flowvr-ex">FlowVR</a> framework. </td></tr>
<tr>
<td align="left"><code>USE_FTI</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://github.com/leobago/fti">FTI</a> library. </td></tr>
<tr>
<td align="left"><code>USE_GTest</code> </td><td align="left"><code>EMBEDDED</code></td><td align="left">the <a href="https://github.com/google/googletest">googletest</a> framework. </td></tr>
<tr>
<td align="left"><code>USE_HDF5</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://www.hdfgroup.org/solutions/hdf5/">HDF5</a> library. </td></tr>
<tr>
<td align="left"><code>USE_paraconf</code></td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://github.com/pdidev/paraconf">paraconf</a> library. </td></tr>
<tr>
<td align="left"><code>USE_pybind11</code></td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://pybind11.readthedocs.io/en/stable">pybind11</a> library. </td></tr>
<tr>
<td align="left"><code>USE_SIONlib</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the SIONlib library. </td></tr>
<tr>
<td align="left"><code>USE_spdlog</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://github.com/gabime/spdlog">spdlog</a> library. </td></tr>
<tr>
<td align="left"><code>USE_yaml</code> </td><td align="left"><code>AUTO</code> </td><td align="left">the <a href="https://github.com/jbigot/zpp">yaml</a> library. </td></tr>
</table>
<h1><a class="anchor" id="dependecies"></a>
List of dependencies</h1>
<p>Here is a list of all dependencies required by one feature or another. All dependencies are provided in the distribution unless specified otherwise.</p>
<p>Dependencies of <b>PDI</b>:</p>
<ul>
<li><b><a href="https://cmake.org/">cmake</a> version 3.5 or above (not provided)</b>,</li>
<li><b>a C 99 and C++ 14 compiler such as <a href="https://gcc.gnu.org/">gcc</a> 5.4 or above (not provided)</b>,</li>
<li>the <a href="https://github.com/pdidev/paraconf">paraconf</a> library version 0.4 or above,</li>
<li>the <a href="https://pyyaml.org/wiki/LibYAML">libyaml</a> library version 0.1 or above,</li>
<li>the <a href="https://github.com/gabime/spdlog">spdlog</a> library.</li>
</ul>
<p>Dependencies of <b>the Fortran API</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li><b>a Fortran 95 compiler such as <a href="https://gcc.gnu.org/">gcc</a> 5.4 or above (not provided)</b>,</li>
<li><b>a <a href="https://www.python.org/">python</a> interpreter version 2.7 or above (not provided)</b>,</li>
<li><b>a <a href="https://www.gnu.org/software/bash/">bash</a> interpreter (not provided)</b>,</li>
<li>the <a href="https://github.com/jbigot/zpp">bpp/zpp</a> preprocessor version 0.3.0 or above.</li>
</ul>
<p>Dependencies of <b>the Decl'HDF5 plugin</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li>the <a href="https://www.hdfgroup.org/solutions/hdf5/">HDF5</a> library version 1.8 or above,</li>
<li><b>a MPI implementation for the parallel version of the plugin (not provided)</b>.</li>
</ul>
<p>Dependencies of <b>the MPI plugin</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li><b>a MPI implementation (not provided)</b>.</li>
</ul>
<p>Dependencies of <b>the Python API</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li><b>the <a href="https://www.python.org/">python</a> development environment version 3.5 or above (not provided)</b>,</li>
<li>the <a href="https://pybind11.readthedocs.io/en/stable">pybind11</a> library version 2.3 or above,</li>
</ul>
<p>Dependencies of <b>the Decl'SION plugin</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li><a href="https://www.fz-juelich.de/ias/jsc/EN/Expertise/Support/Software/SIONlib/_node.html">SIONlib</a> version 1.7.2 or above,</li>
</ul>
<p>Dependencies of <b>the FlowVR plugin</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li><a href="https://gitlab.inria.fr/flowvr/flowvr-ex">FlowVR</a>.</li>
</ul>
<p>Dependencies of <b>the FTI plugin</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li>the <a href="https://github.com/leobago/fti">FTI</a> library version 1.3 or above.</li>
</ul>
<p>Dependencies of <b>the Pycall plugin</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library with python API.</li>
</ul>
<p>Dependencies of <b>the tests</b>:</p>
<ul>
<li>the <a class="el" href="namespacePDI.html">PDI</a> library,</li>
<li><b><a href="https://www.cmake.org/">cmake</a> version 3.10 or above (not provided)</b>,</li>
<li>the <a href="https://github.com/google/googletest">googletest</a> framework version 1.8 or above,</li>
<li><a href="http://astyle.sourceforge.net/">astyle</a> version 3.1 or above.</li>
</ul>
<p>Dependencies of <b>the documentation website builder</b>:</p>
<ul>
<li><a href="http://www.doxygen.nl/">doxygen</a> version 1.8 or above.</li>
</ul>
<p>Dependencies of <b>the <a class="el" href="namespacePDI.html">PDI</a> configuration validation tool</b>:</p>
<ul>
<li><b>a <a href="https://www.python.org/">python</a> interpreter version 2.7 or above (not provided)</b>,</li>
<li><b>the <a href="https://pyyaml.org/">python YAML</a> module (not provided)</b>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
